apiVersion: capabilities.3scale.net/v1beta1
kind: Product
metadata:
  name: userapi
  namespace: '{{ threescale_project }}'
spec:
  description: Product to expose userapi API
  mappingRules:
    - httpMethod: GET
      increment: 1
      metricMethodRef: hits
      pattern: /
  metrics:
    hits:
      description: Number of API hits
      friendlyName: Hits
      unit: hit
  applicationPlans:
      basic-plan:
        name: basic plan
        appsRequireApproval: false    
  name: Userapi
  policies:
    - configuration: {}
      enabled: true
      name: apicast
      version: builtin
  systemName: userapi
  backendUsages:
    userapi-backend:
      path: /
